<script>
const alphabet = [
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
    "g",
    "h",
    "i",
    "j",
    "k",
    "l",
    "m",
    "n",
    "o",
    "p",
    "q",
    "r",
    "s",
    "t",
    "u",
    "v",
    "w",
    "x",
    "y",
    "z",
  ]
  const input = require("fs")
    .readFileSync("day4_input.txt")
    .toString()
    .split(/\r?\n?\s+/)
  
  console.log(input)
  let solutions = input.map((roomCode) => {
    let code = roomCode.match(/^(.*?)[0-9]/)[1]
    let codeArray = Array.from(code)
    let sectorId = roomCode.match(/(.{3}?)\[/)[1]
    let decodedRoom = codeArray
      .map((x) => {
        console.log(x, sectorId)
        return shiftCipher(x, parseInt(sectorId))
      })
      .join("")
    return decodedRoom
  })
  console.log(solutions)
  
  console.log(shiftCipher("q", 343))
  function shiftCipher(letter, shiftNumber) {
    if (letter === "-") {
      return " "
    } else {
      let startingIndex = alphabet.indexOf(letter)
      let offset = (startingIndex + shiftNumber) % 26
      return alphabet[offset]
    }
  }
</script>  